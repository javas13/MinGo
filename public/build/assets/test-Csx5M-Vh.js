document.addEventListener("DOMContentLoaded",function(){class s{constructor(t,r,e,n,u){this.id=t,this.name=r,this.answers=e,this.progress=u}}class i{constructor(t,r,e){this.id=e,this.name=t,this.price=r}}let T=new i("Лендинг","15000",0),A=new i("Корпоративный сайт","65000",1),L=new i("Интернет-каталог","95000",2),F=new i("Интернет-магазин","135000",3),g=new i("Сайт медицинской клиники","80000",4),M=new i("Индивидуальное решение","105000",5),H=new i("Пока не определился(-ась)","30000",6),h=new i("Нет","5000",0),b=new i("У меня есть макет дизайна, нужна только разработка","10000",1),I=new i("Нужно шаблонное решение","5000",2),E=new i("Мне нужен уникальный дизайн","20000",3),B=new i("Нет","10000",0),x=new i("Да","5000",1),Q=[T,A,L,F,g,M,H],C=[h,b,I,E],l=[B,x],D=new s(1,"Какой вид спорта вас интересует? (Можно выбрать несколько вариантов)",Q,5),j=new s(2,"В каком регионе вы планируете проводить сборы? (Можно выбрать несколько вариантов)",C,25),k=new s(3,"Какие спортивные объекты должны быть на базе? (Можно выбрать несколько вариантов)",l,50),S=new s(4,"Требуются ли восстановительные и медицинские услуги? (Можно выбрать несколько вариантов)",l,75),G=new s(5,"Какой у вас бюджет на человека в сутки?)",l,75),N=new s(6,"Укажите желаемые даты проведения сборов",l,75),W=new s(7,"Какой способ оплаты предпочтителен?",l,75),O=new s(8,"Укажите предполагаемую продолжительность пребывания (в днях).",l,75),K=new s(9,"Укажите количество участников и тренеров, которые планируют участие в сборах.",l,75),P=new s(10,"Чтобы получить подборку идеально подходящих баз, оставьте свои контактные данные:",l,75),d=[],w=[],m=[],c=[],f=[],y=[],v=[],q=[],_=[],z=[],p=[D,j,k,S];function R(){let o=p[0].name,t=p[0].id;document.querySelector(".kviz-window__question-name-js").innerHTML=o,document.querySelector(".kviz-window__question-number-js").innerHTML=t}$(".kviz_btn-js").click(function(){R()}),$(".kviz-form-js").submit(function(o){let t=document.querySelector(".kviz-window__question-number-js").innerHTML;document.getElementById("loader").style.display="flex";let r=$(".kviz-window__asnwers-js");$(".kviz-form-js").serializeArray().length==0?(document.getElementById("loader").style.display="none",Swal.fire("Ошибка!","Вы не заполнили данные! Заполните данные и нажмите продолжить!","error"),o.preventDefault()):t==1?($.ajax({type:"Get",url:"/get-answers",data:{questionId:2}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none";let n=$(".kviz-form-js").serializeArray();d=n,console.log(n),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=j.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="2"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==2?($.ajax({type:"Get",url:"/get-answers",data:{questionId:3}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none";let n=$(".kviz-form-js").serializeArray();w=n,console.log(n),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=k.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="3"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==3?($.ajax({type:"Get",url:"/get-answers",data:{questionId:4}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none";let n=$(".kviz-form-js").serializeArray();m=n,console.log(n),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=S.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="4"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==4?($.ajax({type:"Get",url:"/get-answers",data:{questionId:5}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none";let n=$(".kviz-form-js").serializeArray();c=n,console.log(n),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=G.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="5"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==5?($.ajax({type:"Get",url:"/get-answers",data:{questionId:6}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",f=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=N.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="6"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==6?($.ajax({type:"Get",url:"/get-answers",data:{questionId:7}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",y=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=W.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="7"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==7?($.ajax({type:"Get",url:"/get-answers",data:{questionId:8}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",v=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=O.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="8"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==8?($.ajax({type:"Get",url:"/get-answers",data:{questionId:9}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",q=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=K.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="9"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==9?($.ajax({type:"Get",url:"/get-answers",data:{questionId:10}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",_=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=P.name,r.append(e.html),document.querySelector(".kviz-window__question-number-js").innerHTML="10"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault()):t==10&&($.ajax({type:"Get",url:"/get-answers",data:{questionId:11}}).done(function(e){setTimeout(function(){document.getElementById("loader").style.display="none",z=$(".kviz-form-js").serializeArray(),document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML="Отлично! Мы подготовим подборку спортивных баз, которые идеально подходят под ваши запросы. Нажмите кнопку, чтобы скачать подборку баз.",r.append(e.html),document.querySelector(".kviz-window__top-js").classList.remove("active"),document.querySelector(".kviz-window__form-btn-js").classList.remove("active"),$.ajax({type:"Post",url:"/kvizSendFeedbackTelegram",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{firstAnswer:d,secondAnswer:w,thirdAnswer:m,fourAnswer:c,fiveAnswer:f,sixAnswer:y,sevenAnswer:v,eightAnswer:q,nineAnswer:_,tenAnswer:z}}).done(function(u){setTimeout(function(){document.getElementById("loader").style.display="none"},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),$(".kviz-window__bases-download-js").click(function(){document.getElementById("loader").style.display="flex",$.ajax({type:"Get",url:"/get-bases",data:{firstAnswer:d,secondAnswer:w,thirdAnswer:m,fourAnswer:c,fiveAnswer:f,sixAnswer:y,sevenAnswer:v,eightAnswer:q,nineAnswer:_,tenAnswer:z}}).done(function(u){setTimeout(function(){if(document.getElementById("loader").style.display="none",u.basesCount==0){let a=document.querySelector(".kviz-window-js");a!=null&&(a.classList.remove("open"),document.documentElement.style.overflow="visible",document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=""),Swal.fire({title:"Базы не найдены",icon:"fail",html:`
                  К сожалению мы не нашли базы по вашим ответам( Вы можете оставить заявку и мы обязательно подберём вам базу!</br>
                  <a class="kviz-window__alert-link" href="/contacts" autofocus>Оставить заявку</a>
                `,showCancelButton:!0,showConfirmButton:!1,focusConfirm:!1,confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"Закрыть",cancelButtonAriaLabel:"Thumbs down"})}else{let a=document.querySelector(".kviz-window-js");a!=null&&(a.classList.remove("open"),document.documentElement.style.overflow="visible",document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=""),window.location=u.url}},1e3)}).fail(function(){document.getElementById("loader").style.display="none";let u=document.querySelector(".kviz-window-js");u!=null&&(u.classList.remove("open"),document.documentElement.style.overflow="visible",document.querySelector(".kviz-window__asnwers-js").innerHTML="",document.querySelector(".kviz-window__question-name-js").innerHTML=""),Swal.fire("Ошибка!","Неизвестная ошибка","error")})})},1e3)}).fail(function(){Swal.fire("Ошибка!","Неизвестная ошибка","error")}),o.preventDefault())})});
