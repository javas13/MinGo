(function(s){s.fn.twentytwenty=function(n){var n=s.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},n);return this.each(function(){var l=n.default_offset_pct,e=s(this),i=n.orientation,X=i==="vertical"?"down":"left",Y=i==="vertical"?"up":"right";if(e.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),!n.no_overlay){e.append("<div class='twentytwenty-overlay'></div>");var u=e.find(".twentytwenty-overlay");u.append("<div class='twentytwenty-before-label' data-content='"+n.before_label+"'></div>"),u.append("<div class='twentytwenty-after-label' data-content='"+n.after_label+"'></div>")}var r=e.find("img:first"),v=e.find("img:last");e.append("<div class='twentytwenty-handle'></div>");var c=e.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+X+"-arrow'></span>"),c.append("<span class='twentytwenty-"+Y+"-arrow'></span>"),e.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),v.addClass("twentytwenty-after");var x=function(t){var a=r.width(),o=r.height();return{w:a+"px",h:o+"px",cw:t*a+"px",ch:t*o+"px"}},C=function(t){i==="vertical"?(r.css("clip","rect(0,"+t.w+","+t.ch+",0)"),v.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),v.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),e.css("height",t.h)},d=function(t){var a=x(t);c.css(i==="vertical"?"top":"left",i==="vertical"?a.ch:a.cw),C(a)},D=function(t,a,o){return Math.max(a,Math.min(o,t))},m=function(t,a){var o=i==="vertical"?(a-w)/h:(t-f)/p;return D(o,0,1)};s(window).on("resize.twentytwenty",function(t){d(l)});var f=0,w=0,p=0,h=0,_=function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&i!=="vertical"||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&i==="vertical")&&t.preventDefault(),e.addClass("active"),f=e.offset().left,w=e.offset().top,p=r.width(),h=r.height()},g=function(t){e.hasClass("active")&&(l=m(t.pageX,t.pageY),d(l))},b=function(){e.removeClass("active")},y=n.move_with_handle_only?c:e;y.on("movestart",_),y.on("move",g),y.on("moveend",b),n.move_slider_on_hover&&(e.on("mouseenter",_),e.on("mousemove",g),e.on("mouseleave",b)),c.on("touchmove",function(t){t.preventDefault()}),e.find("img").on("mousedown",function(t){t.preventDefault()}),n.click_to_move&&e.on("click",function(t){f=e.offset().left,w=e.offset().top,p=r.width(),h=r.height(),l=m(t.pageX,t.pageY),d(l)}),s(window).trigger("resize.twentytwenty")})}})(jQuery);
